<source>
  @type           tail
  tag             kubernetes.*
  path            /var/lib/docker/containers/**/*.log
  pos_file        /fluentd/log/containers.log.pos
  read_from_head  true
  format          json
  keep_time_key   true
  time_format     %Y-%m-%dT%H:%M:%S.%N
</source>

<filter kubernetes.**>
  @type stdout
</filter>

<match **>
  @type             file
  @id               output1
  path              /fluentd/log/data.*.log
  symlink_path      /fluentd/log/data.log
  append            true
  time_slice_format %Y%m%d
  time_slice_wait   10m
  time_format       %Y%m%dT%H%M%S%z
</match>
